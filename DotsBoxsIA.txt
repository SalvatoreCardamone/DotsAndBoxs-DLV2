%ENTITA
linea(PUNTO_A, PUNTO_B, GIOCATORE). %GIOCATORE = umano, oppure cpu.
punto(A,COORD_X,COORD_Y).

%GUESS
%DATI 2 PUNTI, DECIDO SE INSERIRE OPPURE NO UNA LINEA TRA LORO
linea(A,B, cpu) | nonlinea(A,B, cpu) :- punto(A,_,_), punto(B,_,_), A != B.

%SE INSERISCO UNA LINEA, AVRA ENTRAMBE  LE COORDINATE COME PARTENZA E ARRIVO
linea(B,A,cpu) :- linea(A,B,cpu).


%CHECK 
%NON E' POSSIBILE INSERIRE UNA LINEA DOVE IL GIOCATORE HA GIA INSERITO, O COMUNQUE DOVE E' GIA PRESENTE UNA LINEA (TUTTE LE VECCHIE VENGONO DICHIARATE UMANE?)
:- linea(A,B,cpu), linea(A,B,umano).

%AD OGNI TURNO, L'IA DEVE INSERIRE SOLAMENTE 1 LINEA (CONT = 2 DATO CHE AVRO COMUNQUE DUE LINEE, VISTO CHE HANNO ANDATA E RITORNO)
:- #count { cpu : linea(A,B,cpu) } > 2.

%UNA LINEA DEVE ESSERE TRA 2 PUNTI VICINI
:- linea(A,B,cpu), punto(A,X1,Y1), punto(B,X2,Y2), X1 - X2 != 1.
:- linea(A,B,cpu), punto(A,X1,Y1), punto(B,X2,Y2), X1 - X2 != -1.
:- linea(A,B,cpu), punto(A,X1,Y1), punto(B,X2,Y2), Y1 - Y2 != 1.
:- linea(A,B,cpu), punto(A,X1,Y1), punto(B,X2,Y2), Y1 - Y2 != -1.


%WEAK CONSTRAINT
%E PREFERIBILE CHIUDERE UN QUADRATO CON UNA LINEA, SE POSSIBILE (SE NON LO FACCIO PAGO COSTO MINORE)
:~ 

%E PREFERIBILE NON CREARE UN QUADRATO CON UN LATO APERTO CON LA PROSSIMA LINEA (COSTO MEDIO)
:~

%E PREFERIBILE NON CREARE UNA SERIE DI QUADRATI CON LA PROSSIMA LINEA (COSTO ELEVATO..COME MINCHIA SI FA?)
:~